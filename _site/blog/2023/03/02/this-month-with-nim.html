<!doctype html>
<html lang="en">
  <head>
  <meta name="charset" content="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The Nim programming language is a concise, fast programming language that compiles to C, C++ and JavaScript.">
  <meta charset="utf-8">
  <link rel="icon" type="image/png" href="/assets/img/logo_bw.png" />

  
  <title>This Month with Nim: Feburary 2023 - Nim Blog</title>
  
  <link rel="stylesheet" href="/assets/css/pure.min.css">
  <link rel="stylesheet" href="/assets/css/pure-grids-responsive.min.css">
  <link href="https://use.fontawesome.com/releases/v5.0.2/css/all.css" rel="stylesheet">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  
  <link rel="stylesheet" href="/assets/css/highlight/github.css">
  

  <link rel="stylesheet" href="/assets/css/google-fonts.css">
  <link rel="stylesheet" href="/assets/css/main.css?t=1721738524015683587">

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48159761-1', 'auto');
    ga('send', 'pageview');

  </script>

  <script defer data-domain="nim-lang.org" src="https://plausible.io/js/plausible.js"></script>

  <meta name="twitter:title" content="This Month with Nim: Feburary 2023">

  
  <meta name="twitter:description" content="A system monitor, internationalization macros, and a nimib update">
  <meta property="og:description" content="A system monitor, internationalization macros, and a nimib update">
  

  <meta name="twitter:site" content="@nim_lang">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://nim-lang.org/assets/img/twitter_banner.png">

  <meta property="og:title" content="This Month with Nim: Feburary 2023" />
  <meta property="og:site_name" content="Nim Programming Language" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://nim-lang.org/assets/img/twitter_banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1000" />
  <meta property="og:image:height" content="500" />
  <meta property="og:image:alt" content="Nim Programming Language" />
</head>

  <body class="site">
    <header>
  <nav class="pure-menu pure-menu-horizontal pure-menu-scrollable">
    <div class="nav-content">
      <a href="/" class="pure-menu-heading pure-menu-link site-logo-container">
        <img class="site-logo" src="/assets/img/logo.svg" height="28" alt="Nim">
      </a>
      <ul class="pure-menu-list">
        
        <li class="pure-menu-item">
          <a href="/blog.html"
             class="pure-menu-link current">
            Blog
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/features.html"
             class="pure-menu-link ">
            Features
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/install.html"
             class="pure-menu-link ">
            Download
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/documentation.html"
             class="pure-menu-link ">
            Documentation
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="https://forum.nim-lang.org"
             class="pure-menu-link ">
            Forum
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/donate.html"
             class="pure-menu-link ">
            Donate
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://github.com/nim-lang/Nim">Source</a>
        </li>
      </ul>
    </div>
    <div class="menu-fade"></div>
  </nav>
</header>

    <div class="site-content post-page">
      <div class="content">
        <div class="width-reduced">
          <h1 class="post-title">
            This Month with Nim: Feburary 2023
          </h1>
          <h3 class="post-meta">
            <span>
              <i class="far fa-calendar-alt" aria-hidden="true"></i>
              02 March 2023
            </span>
            
            <span>
              <i class="fa fa-user-circle" aria-hidden="true"></i>
              The Nim Community
            </span>
            
          </h3>
          <h2 id="ttop"><a href="https://github.com/inv2004/ttop">ttop</a></h2>

<h4 id="author-inv2004">Author: <a href="https://github.com/inv2004">Inv2004</a></h4>

<p>System monitoring tool with TUI, historical data service and triggers</p>

<p style="text-align: center;">
  <img width="auto" height="600" src="http://localhost:4000/assets/thismonthwithnim/2023-02/ttop.png" />
</p>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Saving historical snapshots via systemd.timer or crontab</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Scroll via historical data</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />TUI with critical values highlight</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />External triggers (for notifications or other needs)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Ascii graph of historical stats (via https://github.com/Yardanico/asciigraph)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Temperature via <code class="language-plaintext highlighter-rouge">sysfs</code></li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />User-space only, doesn‚Äôt require root permissions</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Static build</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Threads tree</li>
</ul>

<h2 id="ni18n"><a href="https://github.com/heinthanth/ni18n">ni18n</a></h2>

<h4 id="author-hein-thant">Author: <a href="https://github.com/heinthanth">Hein Thant</a></h4>

<p><code class="language-plaintext highlighter-rouge">ni18n</code> is a super simple and fast Nim macro for internationalization and localization.
No runtime lookup for translation since all translations are compiled down to Nim functions except we still have a runtime <code class="language-plaintext highlighter-rouge">case</code> statement for <code class="language-plaintext highlighter-rouge">locale</code> to call correct generated locale specific function.</p>

<div class="language-nim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="n">ni18n</span>

<span class="k">type</span>
    <span class="n">Locale</span> <span class="o">=</span> <span class="k">enum</span>
        <span class="n">English</span>
        <span class="n">Chinese</span>

<span class="n">i18nInit</span> <span class="n">Locale</span><span class="p">,</span> <span class="kp">true</span><span class="p">:</span>
    <span class="n">hello</span><span class="p">:</span>
        <span class="n">English</span> <span class="o">=</span> <span class="s">"Hello, </span><span class="si">$name</span><span class="s">!"</span>
        <span class="n">Chinese</span> <span class="o">=</span> <span class="s">"‰Ω†Â•Ω, </span><span class="si">$name</span><span class="s">!"</span>
    <span class="n">ihaveCat</span><span class="p">:</span>
        <span class="n">English</span> <span class="o">=</span> <span class="s">"I've cats"</span>
        <span class="n">Chinese</span> <span class="o">=</span> <span class="s">"ÊàëÊúâÁå´"</span>
        <span class="n">withCount</span><span class="p">:</span>
            <span class="n">English</span> <span class="o">=</span> <span class="k">proc</span><span class="p">(</span><span class="n">count</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">string</span> <span class="o">=</span>
                <span class="k">case</span> <span class="n">count</span>
                <span class="k">of</span> <span class="mi">0</span><span class="p">:</span> <span class="s">"I don't have a cat"</span>
                <span class="k">of</span> <span class="mi">1</span><span class="p">:</span> <span class="s">"I have one cat"</span>
                <span class="k">else</span><span class="p">:</span> <span class="s">"I have "</span> <span class="o">&amp;</span> <span class="o">$</span><span class="n">count</span> <span class="o">&amp;</span> <span class="s">" cats"</span>
            <span class="n">Chinese</span> <span class="o">=</span> <span class="k">proc</span><span class="p">(</span><span class="n">count</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">string</span> <span class="o">=</span>
                <span class="k">proc </span><span class="nf">translateCount</span><span class="p">(</span><span class="n">count</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">string</span> <span class="o">=</span>
                    <span class="k">case</span> <span class="n">count</span>
                    <span class="k">of</span> <span class="mi">2</span><span class="p">:</span> <span class="s">"‰∫å"</span>
                    <span class="k">of</span> <span class="mi">3</span><span class="p">:</span> <span class="s">"‰∏â"</span>
                    <span class="k">of</span> <span class="mi">4</span><span class="p">:</span> <span class="s">"Âõõ"</span>
                    <span class="k">of</span> <span class="mi">5</span><span class="p">:</span> <span class="s">"‰∫î"</span>
                    <span class="k">else</span><span class="p">:</span> <span class="o">$</span><span class="n">count</span>
                <span class="k">return</span> <span class="k">case</span> <span class="n">count</span>
                    <span class="k">of</span> <span class="mi">0</span><span class="p">:</span> <span class="s">"ÊàëÊ≤°ÊúâÁå´"</span>
                    <span class="k">of</span> <span class="mi">1</span><span class="p">:</span> <span class="s">"ÊàëÊúâ‰∏ÄÂè™Áå´"</span>
                    <span class="k">else</span><span class="p">:</span> <span class="s">"ÊàëÊúâ"</span> <span class="o">&amp;</span> <span class="n">translateCount</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">"Âè™Áå´"</span>

<span class="c"># prints "‰Ω†Â•Ω, ÈªÑÂ∞èÂßê!". This function behave the same as `strutils.format`</span>
<span class="n">echo</span> <span class="n">hello</span><span class="p">(</span><span class="n">Chinese</span><span class="p">,</span> <span class="s">"name"</span><span class="p">,</span> <span class="s">"ÈªÑÂ∞èÂßê"</span><span class="p">)</span>

<span class="c"># prints ÊàëÊúâÁå´</span>
<span class="n">echo</span> <span class="n">ihaveCat</span><span class="p">(</span><span class="n">Chinese</span><span class="p">)</span>

<span class="c"># prints ÊàëÊúâ‰∫îÂè™Áå´</span>
<span class="n">echo</span> <span class="n">ihaveCat_withCount</span><span class="p">(</span><span class="n">Chinese</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="c"># compiler error here since each function is generated with the same signature from lambda</span>
<span class="n">echo</span> <span class="n">ihaveCat_withCount</span><span class="p">(</span><span class="n">Chinese</span><span class="p">,</span> <span class="s">"some str"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="behind-the-scenes">Behind the Scenes</h3>

<p>Imagine one writes this code:</p>

<div class="language-nim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span>
    <span class="n">Locale</span> <span class="o">=</span> <span class="k">enum</span>
        <span class="n">English</span>
        <span class="n">Chinese</span>

<span class="n">i18nInit</span> <span class="n">Locale</span><span class="p">,</span> <span class="kp">true</span><span class="p">:</span>
    <span class="n">hello</span><span class="p">:</span>
        <span class="n">English</span> <span class="o">=</span> <span class="s">"Hello, </span><span class="si">$name</span><span class="s">!"</span>
        <span class="n">Chinese</span> <span class="o">=</span> <span class="s">"‰Ω†Â•Ω, </span><span class="si">$name</span><span class="s">!"</span>
</code></pre></div></div>

<p>The macro macro will convert that code into this:</p>

<div class="language-nim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span>
    <span class="n">Locale</span> <span class="o">=</span> <span class="k">enum</span>
        <span class="n">English</span>
        <span class="n">Chinese</span>

<span class="k">proc </span><span class="nf">hello_English</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">varargs</span><span class="o">[</span><span class="kt">string</span><span class="p">,</span> <span class="p">`</span><span class="o">$</span><span class="p">`</span><span class="o">]</span><span class="p">):</span> <span class="kt">string</span> <span class="o">=</span>
    <span class="n">format</span><span class="p">(</span><span class="s">"Hello, </span><span class="si">$name</span><span class="s">!"</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

<span class="k">proc </span><span class="nf">hello_Chinese</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">varargs</span><span class="o">[</span><span class="kt">string</span><span class="p">,</span> <span class="p">`</span><span class="o">$</span><span class="p">`</span><span class="o">]</span><span class="p">):</span> <span class="kt">string</span> <span class="o">=</span>
    <span class="n">format</span><span class="p">(</span><span class="s">"‰Ω†Â•Ω, </span><span class="si">$name</span><span class="s">!"</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

<span class="k">proc </span><span class="nf">hello</span><span class="o">*</span><span class="p">(</span><span class="n">locale</span><span class="p">:</span> <span class="n">Locale</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">varargs</span><span class="o">[</span><span class="kt">string</span><span class="p">,</span> <span class="p">`</span><span class="o">$</span><span class="p">`</span><span class="o">]</span><span class="p">):</span> <span class="kt">string</span> <span class="o">=</span>
    <span class="k">case</span> <span class="n">locale</span>
    <span class="k">of</span> <span class="n">English</span><span class="p">:</span> <span class="n">hello_English</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">of</span> <span class="n">Chinese</span><span class="p">:</span> <span class="n">hello_Chinese</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></div>

<p>So, we have just locale runtime check, but since that‚Äôs enum, we‚Äôre still going fast!</p>

<h2 id="news-from-nimib-land">News from nimib-land</h2>

<h4 id="authors-pietroppeter-hugogranstrom">Authors: <a href="https://github.com/pietroppeter">@pietroppeter</a> <a href="https://github.com/HugoGranstrom">@HugoGranstrom</a></h4>

<p>In January we set our goals for 2023 and in February we started delivering progress on them.</p>

<p>We discuss goals, progress and next steps in üé™<em>Nimib Speaking Hours</em>,
a loosely monthly appointment open to everyone from the curious person that has never used nimib,
to the aspiring contributor.
They are announced in <a href="https://github.com/pietroppeter/nimib/discussions/178">nimib forum</a>, join us!</p>

<p>So what are the goals for 2023?</p>

<ul>
  <li>For nimib itself we have various improvements roughly split into the first and second half of the year,
see the <a href="https://github.com/pietroppeter/nimib/issues?q=is%3Aissue+label%3A2023H1%2C2023H2">labels 2023H1 and 2023H2</a></li>
  <li>Among the big goals for the first half of the year is a move to <a href="https://github.com/nimib-org">nimib-org</a>.
Indeed, we plan next month to actually move all our nimib-related repos there.
Please be patient if there are some turbulunces.</li>
  <li>The other big goal for the first half of the year is to finally create a general purpose Static Site Generator (SSG)
that works with nimib.
Currently to create a good looking website with nimib content there is only nimibook,
which is limited (on purpose, which makes it simple to pick up, and simple is good).</li>
  <li>For nimibook we have also lined up a <a href="https://github.com/pietroppeter/nimibook/issues?q=is%3Aissue+label%3A2023H1%2C2023H2">number of improvements</a>
(basically covers most functionalities of mdbook, including delivering a binary on install and supporting SUMMARY.md).</li>
  <li>The second half of the year is planned to be reserved for some refactorings, changing some of the internals of nimib
(to be able to deliver more fancy features) and refactoring nimibook with the upcoming SSG.</li>
  <li>Among the other goals of is to start working on <a href="https://github.com/nimib-org/nimibex">nimibex</a>,
a repo for extensions,
extras and experiments for the nimib ecosystem.</li>
  <li>Most of the planned extensions are currently blogposts in <a href="https://github.com/pietroppeter/nblog">nblog</a>,
which we are also working on turning into a proper blog.</li>
</ul>

<p>What is the current progress?</p>
<ul>
  <li>We had <a href="https://github.com/pietroppeter/nimib/releases">4 releases in nimib</a>, mostly maintenance and minor stuff,
the big news is that nimib is now nim v2.0 ready!</li>
  <li>We had <a href="https://github.com/pietroppeter/nimibook/releases">2 releases in nimibook</a>, in particular 0.3 release
finally catches up the documentation on a lot of work done last year (including work from new contributor @beef331).
Ah, nimibook is also v2.0 ready!</li>
</ul>

<p>What are next steps?</p>

<ul>
  <li>Complete the <a href="https://github.com/pietroppeter/nblog/pull/16">ongoing work on making nblog a proper blog</a>, while a the same time progressing
on one of the key ingredients of the future SSG: a nimib document will be rendered to json and the json later converted to html</li>
  <li>Start working on nimibex</li>
  <li>Move repos to nimib-org</li>
</ul>

<p>For more details you can look at the meeting notes from
<a href="https://github.com/pietroppeter/nimib/discussions/162#discussioncomment-4811966">January</a> and
<a href="https://github.com/pietroppeter/nimib/discussions/178#discussioncomment-5139070">February</a> speaking hours,
you can ask stuff in nimib discussion forum (hopefully soon that will become nimib-org discussion forum),
or elsewhere.</p>

<p><em>Disclaimer</em>:<br />
Note that all these plans on doing stuff come with a very loose open source commitment:
we work on these projects on our free time, we do it because we enjoy it, we will not get stressed
if we do not manage to complete our plans, whatever happens in life means we might need to redirect our energy elsewhere.</p>

<hr />

<h2 id="want-to-see-your-project-here-next-month">Want to see your project here next month?</h2>

<p><a href="https://github.com/beef331/website#adding-your-project-to-month-with-nim">Follow this</a>
to add your project to the next month‚Äôs blog post.</p>

        </div>
      </div>
    </div>
    <footer>
  <section class="content">
    <div class="pure-g">
      <div class="copyright pure-u-2-3">
        <p>
          Unless otherwise stated, the content of this page is
          licensed under the
          <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a>
          license.
          Code displayed on this website is MIT licensed.
        </p>
        <p>
          This website is available on
          <a href="https://github.com/nim-lang/website">GitHub</a>
          and contributions are welcome.
          Original website design by
          <a href="https://github.com/dom96">Dominik Picheta</a> and
          <a href="https://github.com/Calinou">Hugo Locurcio</a>.
          Logo by <a href="https://github.com/josephwecker">Joseph Wecker</a>.
        </p>
      </div>
      <div class="pure-u-1-3 right-center">
        <a href="https://m.do.co/c/637ab907c7f4"><img src="/assets/img/do.png"/></a>
      </div>
    </div>
  </section>

</footer>
<script>
    (function(){
      function setTracking(a) {
        var url = a.href;
        a.onclick = function() {
          if (typeof(ga) !== "undefined") {
            ga('send', 'event', 'outbound', 'click', url, {
              'transport': 'beacon',
              'hitCallback': function(){document.location = url;}
            });
          }
        };
      }

      var a = document.getElementsByTagName("a");
      for (var i = 0; i < a.length; ++i) {
        if (a[i].hostname != location.hostname &&
            a[i].getAttribute("target") !== "_blank"
        ) {
          setTracking(a[i])
        }
      }
    })();
</script>

  </div>
  </body>
</html>
